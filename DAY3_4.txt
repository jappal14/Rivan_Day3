find the network 
10.1.4.10/30

first step is rivan format
/30 = (4th, 4i)

10.1.4.x /30
10.1.4.0 /30
10.1.4.4 /30
10.1.4.8 /30 = ang network ni 10.1.4.10
10.1.4.12 /30

VLAN 100
192.168.1.130 /27

1. convert rivanformat
/27 = (4th, 32i)

2. magbilang

192.168.1.x /27
192.168.1.0 /27
192.168.1.32 /27
192.168.1.64 /27
192.168.1.96 /27
192.168.1.128 /27 = ang network
192.168.1.160 /27



3. VLAN 10 = 10.2.1.12 /24
(3rd, 1i)
10.2.1.x /24
10.2.1.0 /24
10.2.1.0 /24
10.2.1.0 /24


D
I
T
E
E
L
F



R router id
A access id
S subnet mask
A auth
DR BDR


ROUTE SUMMARIZATION

show ip route ospf

O IA     10.10.8.1/32 [110/11] via 10.1.1.2, 00:00:36, Ethernet1/0
O IA     10.10.9.1/32 [110/11] via 10.1.1.2, 00:00:36, Ethernet1/0
O IA     10.10.10.1/32 [110/11] via 10.1.1.2, 00:00:36, Ethernet1/0
O IA     10.10.11.1/32 [110/11] via 10.1.1.2, 00:00:36, Ethernet1/0

DIFFENCE 3RD OCTET
11 - 8 = 3
3rd 4i 

10.10.0.0
10.10.4.0
10.10.8.0 /22 <
10.10.12.0

!@R2
config t
router ospf 1 
area 12 range 10.10.0.0 255.255.240.0
end


config t
router ospf 1 
no area 12 range 10.10.8.0 255.255.252.0
end



add
!@R2
config t 
int lo7
ip add 10.10.7.1 255.255.255.255
ip ospf 1 area 12
end

10.10.7.0 
10.10.8.0 
10.10.9.0 
10.10.10.0 
10.10.11.0 


1. 3RD
2. 11-7 = 4
3. 16i



10.10.0.0 /20 (3rd, 16i)
10.10.16.0
10.10.32.0
10.10.48.0



10.10.33.1 
10.10.33.129
10.10.34.1
10.10.34.129

1. 3rd
2. 34-33 = 1 = 21


10.10.32.0 /22   4i 3rd
10.10.36.0 /22 
10.10.40.0 /22

!@R2
config t
router ospf 1 
area 12 range 10.10.32.0 255.255.252.0
end



CAPTURE BGP hello packets
!@S1

conf t
int e1/0
no shut
ip add 69.69.69.1 255.255.255.0
exit
router bgp 11
neighbor 69.69.69.2 remote-as 12
network 69.69.69.0 mask 255.255.255.0
end

!@D1
conf t
int e3/3
no sw
no shut
ip add dhcp
exit
monitor session 1 source interface e1/0
monitor session 1 destination int e3/3
end

run wireshark
bgp

N -notif
O -open message
K - keepalive
U - update


!@D1 
conf t
int e1/0
no switchport
ip add 69.69.69.2 255.255.255.0
no shut
exit
router bgp 12
neighbor 69.69.69.1 remote-as 12
network 69.69.69.0 mask 255.255.255.0
end







!@Converge
BGP
conf t
 router bgp 45
  bgp log-neighbor-changes
  neighbor 24.2.4.2 remote-as 2
  neighbor 45.4.5.5 remote-as 45
  neighbor 208.8.8.1 remote-as 1
  address-family ipv4
   neighbor 24.2.4.2 activate
   neighbor 45.4.5.5 activate
   neighbor 208.8.8.1 activate
   network 208.8.8.0 mask 255.255.255.0
   network 24.2.4.0 mask 255.255.255.0
   network 44.44.44.44 mask 255.255.255.255
   network 45.4.5.0 mask 255.255.255.0
   end


!@Globe
BGP
conf t
 router bgp 3
  bgp log-neighbor-changes
  neighbor 32.3.2.2 remote-as 2
  neighbor 35.3.5.5 remote-as 45
  neighbor 209.9.9.1 remote-as 1
  address-family ipv4
   neighbor 32.3.2.2 activate
   neighbor 35.3.5.5 activate
   neighbor 209.9.9.1 activate
   network 209.9.9.0 mask 255.255.255.0
   network 32.3.2.0 mask 255.255.255.0
   network 33.33.33.33 mask 255.255.255.255
   network 35.3.5.0 mask 255.255.255.0
   end




NAT (INSIDE AND OUTSIDE)
conf t
 int range e1/1-3
  ip nat outside
  exit
 int e1/0
  ip nat inside
  end




1:1 NAT

D1) 10.1.4.6 = 208.8.8.x
(D2) 10.1.4.10 = 207.7.7.x


!@R1
conf t
 ip nat inside source static 10.1.4.6 208.8.8.101
 ip nat inside source static 10.1.4.10 207.7.7.102
 end 

DYNAMIC NAT
conf t
 ip nat pool NATPOOL 208.8.8.10 208.8.8.20 netmask 255.255.255.0
 ip nat inside source list 1 pool NATPOOL
 end


1:many PORT ADDRESS TRANS (PAT)
conf t
 ip nat inside source list 1 int e1/2 overload
 end


EXERCISE:
CONFIGURE P1, P2, S2, TO SUCCESSFULLY PING 8.8.8.8
= 207.7.7.201 P1
= 207.8.8.202 P2
= 207.9.9.203 S2

to verify
!@P1, P2, S2
ping 8.8.8.8


!@R1
show ip nat trans

!@R1
conf t
 ip nat inside source static 10.2.1.101 207.7.7.201
 ip nat inside source static 10.2.1.102 207.8.8.202
 ip nat inside source static 10.2.2.133 207.9.9.203
end


